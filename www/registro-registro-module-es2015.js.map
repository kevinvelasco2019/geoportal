{"version":3,"sources":["./src/app/registro/registro.page.html","./src/app/registro/registro-routing.module.ts","./src/app/registro/registro.module.ts","./src/app/registro/registro.page.scss","./src/app/registro/registro.page.ts","./src/app/services/auth.service.ts"],"names":[],"mappings":"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","file":"registro-registro-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"dark\\\">\\n    <ion-title>\\n      Registrarse\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <body>\\n    \\n    <div class=\\\"formulario\\\">\\n      <img class=\\\"imagen\\\" src=\\\"../../assets/icon/registro.png\\\">\\n        <ion-label position=\\\"floating\\\">Nombre:</ion-label>\\n        <ion-input [(ngModel)]=\\\"nombre\\\" class=\\\"campos\\\" type=\\\"text\\\" name=\\\"nombre\\\"></ion-input>\\n        <ion-label position=\\\"floating\\\">Apellido:</ion-label>\\n        <ion-input [(ngModel)]=\\\"apellido\\\" class=\\\"campos\\\" type=\\\"text\\\" name=\\\"apellido\\\"></ion-input>\\n        <ion-label position=\\\"floating\\\">Correo Electrónico:</ion-label>\\n        <ion-input [(ngModel)]=\\\"email\\\" class=\\\"campos\\\" type=\\\"text\\\" name=\\\"email\\\"></ion-input>\\n        <ion-label position=\\\"floating\\\">Contraseña:</ion-label>\\n        <ion-input [(ngModel)]=\\\"password\\\" class=\\\"campos\\\" type=\\\"password\\\" name=\\\"contraseña\\\"></ion-input>\\n        <ion-label position=\\\"floating\\\">Confirmar contraseña:</ion-label>\\n        <ion-input [(ngModel)]=\\\"confirmarpassword\\\" class=\\\"campos\\\" type=\\\"password\\\" name=\\\"contraseña\\\"></ion-input>\\n        <ion-button class=\\\"ion-text-center botones\\\" color=\\\"danger\\\" (click)=\\\"crearUsuario()\\\">Registrarse</ion-button>\\n        <ion-button class=\\\"ion-text-center botones\\\" color=\\\"dark\\\" (click)=\\\"iniciarSesion()\\\">Ya tengo una cuenta</ion-button>\\n    </div>\\n  </body>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { RegistroPage } from './registro.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RegistroPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class RegistroPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RegistroPageRoutingModule } from './registro-routing.module';\n\nimport { RegistroPage } from './registro.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RegistroPageRoutingModule\n  ],\n  declarations: [RegistroPage]\n})\nexport class RegistroPageModule {}\n","export default \".formulario {\\n  height: 100%;\\n  margin-left: 10%;\\n  margin-right: 10%;\\n  font-weight: bold;\\n}\\n\\n.botones {\\n  width: 100%;\\n  height: 40px;\\n  margin-top: 4%;\\n}\\n\\n.campos {\\n  background: rgba(0, 0, 0, 0.05);\\n}\\n\\n.imagen {\\n  display: block;\\n  margin-left: auto;\\n  margin-right: auto;\\n  margin-top: 5%;\\n  margin-bottom: 5%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcmVnaXN0cm8vQzpcXEFwbGljYWNpb25lc1xcVGVzaXNHZW9wb3J0YWwvc3JjXFxhcHBcXHJlZ2lzdHJvXFxyZWdpc3Ryby5wYWdlLnNjc3MiLCJzcmMvYXBwL3JlZ2lzdHJvL3JlZ2lzdHJvLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFlBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsaUJBQUE7QUNDRjs7QURDRTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0EsY0FBQTtBQ0VKOztBREFFO0VBQ0UsK0JBQUE7QUNHSjs7QUREQTtFQUNFLGNBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsY0FBQTtFQUNBLGlCQUFBO0FDSUYiLCJmaWxlIjoic3JjL2FwcC9yZWdpc3Ryby9yZWdpc3Ryby5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZm9ybXVsYXJpb3tcclxuICBoZWlnaHQ6IDEwMCU7XHJcbiAgbWFyZ2luLWxlZnQ6IDEwJTtcclxuICBtYXJnaW4tcmlnaHQ6IDEwJTtcclxuICBmb250LXdlaWdodDogYm9sZDtcclxuICB9XHJcbiAgLmJvdG9uZXN7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogNDBweDtcclxuICAgIG1hcmdpbi10b3A6IDQlO1xyXG4gIH1cclxuICAuY2FtcG9ze1xyXG4gICAgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwgLjA1KTtcclxufVxyXG4uaW1hZ2Vue1xyXG4gIGRpc3BsYXk6IGJsb2NrO1xyXG4gIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG4gIG1hcmdpbi1yaWdodDogYXV0bztcclxuICBtYXJnaW4tdG9wOiA1JTtcclxuICBtYXJnaW4tYm90dG9tOiA1JTtcclxufVxyXG4iLCIuZm9ybXVsYXJpbyB7XG4gIGhlaWdodDogMTAwJTtcbiAgbWFyZ2luLWxlZnQ6IDEwJTtcbiAgbWFyZ2luLXJpZ2h0OiAxMCU7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG4uYm90b25lcyB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDQwcHg7XG4gIG1hcmdpbi10b3A6IDQlO1xufVxuXG4uY2FtcG9zIHtcbiAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjA1KTtcbn1cblxuLmltYWdlbiB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW4tbGVmdDogYXV0bztcbiAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xuICBtYXJnaW4tdG9wOiA1JTtcbiAgbWFyZ2luLWJvdHRvbTogNSU7XG59Il19 */\";","import { Component, OnInit } from '@angular/core';\nimport { AlertController } from '@ionic/angular';\nimport { ToastController } from '@ionic/angular';\nimport { TaskService } from './../services/task.service';\nimport { Router } from '@angular/router';\nimport { AuthService } from './../services/auth.service';\n@Component({\n  selector: 'app-registro',\n  templateUrl: './registro.page.html',\n  styleUrls: ['./registro.page.scss'],\n})\nexport class RegistroPage implements OnInit {\n  email: string;\n  password: string;\n  confirmarpassword: string;\n  nombre: string;\n  apellido: string;\n  constructor(public alertController: AlertController, public toastController: ToastController, private taskService: TaskService,\n     public router: Router, private authService: AuthService) { }\n\n  ngOnInit() {\n  }\n  async crearUsuario(){\n    if (this.email !== '' && this.password !== '' && this.confirmarpassword !== '' && this.nombre !== '' && this.apellido !== ''){\n      if (this.password === this.confirmarpassword){\n        const task = {\n          nombre: this.nombre,\n          apellido: this.apellido,\n          correo: this.email,\n          contraseña: this.password\n        };\n        this.taskService.crearUsuario(task)\n        .subscribe((newTask) =>{\n        console.log(newTask);\n        });\n        const toast = await this.toastController.create({\n          message: 'Usuario registrado correctamente',\n          duration: 4000\n          });\n        toast.present();\n        this.router.navigate(['/home']);\n    } else{\n      const alert = await this.alertController.create({\n        header: 'Error',\n        message: 'Las contraseñas no coinciden',\n        buttons: ['Cerrar']\n      });\n      await alert.present();\n    }\n  } else{\n    const alert = await this.alertController.create({\n      header: 'Error',\n      message: 'Todos los campos son obligatorios',\n      buttons: ['Cerrar']\n    });\n    await alert.present();\n  }\n }\n iniciarSesion(){\n  this.router.navigate(['/login']);\n }\n}\n","import { Injectable } from '@angular/core';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport { promise } from 'protractor';\nimport { AngularFirestore } from 'angularfire2/firestore';\nimport { Router } from '@angular/router';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n  uid: string;\n\n  constructor(private AFauth: AngularFireAuth, private db: AngularFirestore, private router: Router) { }\n  login(email: string, password: string){\n    return new Promise ((resolved, rejected) => {\n      this.AFauth.auth.signInWithEmailAndPassword(email, password).then(user => {\n        resolved(user);\n        console.log('logueado');\n      }).catch(err => rejected(err));\n    });\n  }\n  logout(){\n    this.AFauth.auth.signOut().then(() => {\n      this.router.navigate(['/home']);\n    })\n  }\n  registro(email: string, password: string, nombre: string, apellido: string){\n    return new Promise ((resolved, rejected) => {\n    this.AFauth.auth.createUserWithEmailAndPassword(email, password).then(res => {\n      const uid = res.user.uid;\n      this.db.collection('usuarios').doc(uid).set({\n        nombre: nombre,\n        apellido: apellido,\n        uid: uid\n      })\n      resolved(res);\n    }).catch(err => rejected(err));\n  });\n }\n usuario(){\n    return this.AFauth.authState;\n}\n obtenerDatos(){\n  this.usuario().subscribe(user => \n    this.uid = user.uid);\n}\n\n}\n"],"sourceRoot":"webpack:///"}